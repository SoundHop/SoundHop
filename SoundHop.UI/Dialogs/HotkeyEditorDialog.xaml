<ContentDialog
    x:Class="SoundHop.UI.Dialogs.HotkeyEditorDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:controls="using:SoundHop.UI.Controls"
    xmlns:models="using:SoundHop.Core.Models"
    mc:Ignorable="d"
    Title="Set Hotkey"
    PrimaryButtonText="Save"
    SecondaryButtonText="Cancel"
    DefaultButton="Primary"
    RequestedTheme="Dark">

    <StackPanel Spacing="16" Width="300">
        <!-- Device Type Selector -->
        <StackPanel>
            <TextBlock Text="Device Type" Style="{ThemeResource BodyTextBlockStyle}" Margin="0,0,0,8"/>
            <RadioButtons x:Name="DeviceTypeSelector" MaxColumns="2" SelectionChanged="DeviceTypeSelector_SelectionChanged">
                <RadioButton x:Name="OutputsRadio" Content="Outputs" IsChecked="True"/>
                <RadioButton x:Name="InputsRadio" Content="Inputs"/>
            </RadioButtons>
        </StackPanel>
        
        <!-- Audio Device Picker -->
        <ComboBox x:Name="DeviceComboBox" Header="Audio Device" HorizontalAlignment="Stretch" 
                  DisplayMemberPath="Name" 
                  IsEnabled="True"/>

        <TextBlock Text="Press keys to record hotkey:" Style="{ThemeResource CaptionTextBlockStyle}"/>
        
        <Button x:Name="CaptureButton" 
                Height="60"
                HorizontalAlignment="Stretch"
                HorizontalContentAlignment="Center"
                VerticalContentAlignment="Center"
                Click="CaptureButton_Click">
            <Grid>
                <TextBlock x:Name="PlaceholderText" Text="Click here, then press keys..." 
                           HorizontalAlignment="Center" VerticalAlignment="Center"/>
                <controls:HotkeyControl x:Name="PreviewHotkeyControl" 
                                        HorizontalAlignment="Center" 
                                        VerticalAlignment="Center" 
                                        Visibility="Collapsed"/>
            </Grid>
        </Button>
        
        <TextBlock x:Name="StatusText" Text="" 
                   Foreground="{ThemeResource SystemAccentColor}" 
                   Style="{ThemeResource CaptionTextBlockStyle}"
                   TextWrapping="Wrap"/>
        
        <TextBlock x:Name="ErrorText" Text="" Foreground="Red" Visibility="Collapsed" Style="{ThemeResource CaptionTextBlockStyle}"/>
    </StackPanel>
</ContentDialog>
